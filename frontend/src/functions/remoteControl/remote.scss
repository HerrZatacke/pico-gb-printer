@use '../../styles/extendable/button';
@use './shared';

body[data-remote="controller"] {
  margin-bottom: calc(var(--drawer-body-extra-margin) + var(--height));
}

body[data-remote="controller"][data-hideremote="true"] {
  @extend %body-wrapper-closed;
}

.remote-control {
  position: relative;
  z-index: var(--z-index-remote);

  /*****************************/
  /* REMOTE CONTROL-CONTROLLER */
  /*****************************/
  &__wrapper {
    @extend %wrapper;

    bottom: calc(-1 * var(--height));
    height: var(--height);
    gap: calc(0.5 * var(--unit));

    body[data-remote="controller"] & {
      bottom: 0;
    }

    body[data-remote="controller"][data-hideremote="true"] & {
      bottom: calc(var(--drawer-height) + calc(-1 * var(--height)));
    }
  }

  &__drawer {
    @extend %drawer;
  }

  &__meta-button {
    @extend %meta-button;
  }

  &__controller {
    display: flex;
    flex-direction: row;
    gap: var(--unit);
    backface-visibility: hidden;
  }

  &__dpad, &__ssab {
    width: calc(3 * var(--unit));
    height: calc(3 * var(--unit));
    border-radius: 10px;
    overflow: hidden;
  }

  &__dpad {
    position: relative;
    background-color: #000;
  }

  &__dpad-button {
    @extend %button-reset;

    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;

    &[data-value="0x04"] {
      clip-path: polygon(0 0, 100% 0, 67% 33%, 33% 33%);
      background-color: #161616;

      &:hover {
        background-color: #222222;
      }
    }

    &[data-value="0x02"] {
      clip-path: polygon(0 0, 33% 33%, 33% 67%, 0 100%);
      background-color: #1b1b1b;

      &:hover {
        background-color: #252525;
      }
    }

    &[data-value="0x01"] {
      clip-path: polygon(67% 33%, 100% 0, 100% 100%, 67% 67%);
      background-color: #101010;

      &:hover {
        background-color: #1d1d1d;
      }
    }

    &[data-value="0x08"] {
      clip-path: polygon(33% 67%, 67% 67%, 100% 100%, 0 100%);
      background-color: #0b0b0b;

      &:hover {
        background-color: #212121;
      }
    }

    &--macro {
      clip-path: polygon(33% 33%, 67% 33%, 67% 67%, 33% 67%);
      background-color: #000;
      color: #871515;

      &:hover {
        background-color: #202020;
      }
    }

    &--recording {
      animation: recording 1000ms infinite;
    }
  }

  &__ssab {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: 1px;
  }

  &__ssab-button {
    @extend %button-reset;

    font-size: calc(0.3 * var(--unit));
    font-weight: bold;
    background-color: #aaa;
    height: 100%;
    width: 100%;

    &:hover {
      background-color: #bbb;
    }
  }

  /****************/
  /* SHUTTER ONLY */
  /****************/
  &__shutter-wrapper {
    position: fixed;
    right: calc(-2.1 * var(--unit));
    bottom: calc(3 * var(--unit));
    transition: right 150ms ease-in-out;

    body[data-remote="shutter"] & {
      right: calc(0.5 * var(--unit));
    }

    svg {
      width: 65%;
      height: 65%;
    }
  }

  &__shutter-button {
    @extend %button-default;

    width: calc(2 * var(--unit));
    height: calc(2 * var(--unit));
    font-size: var(--unit);
  }
}


