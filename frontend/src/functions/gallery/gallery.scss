:root { --grid-gap: 6px; --num-cols: 1; }
@media screen and (min-width: 370px) { :root { --num-cols: 2; } }
@media screen and (min-width: 390px) { :root { --grid-gap: 16px; } }
@media screen and (min-width: 640px) { :root { --num-cols: 3; } }
@media screen and (min-width: 830px) { :root { --num-cols: 4; } }
@media screen and (min-width: 1020px) { :root { --num-cols: 5; } }
@media screen and (min-width: 1210px) { :root { --num-cols: 6; } }
@media screen and (min-width: 1400px) { :root { --num-cols: 7; } }

.gallery {
  width: calc(calc(var(--num-cols) * 176px) + calc(var(--num-cols) * var(--grid-gap)) - var(--grid-gap));
  grid-template-columns: repeat(var(--num-cols), 176px);
  display: grid;
  grid-column-gap: var(--grid-gap);
  grid-row-gap: var(--grid-gap);
  margin: 16px auto 0;
}
